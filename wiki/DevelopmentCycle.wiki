# I want to commit, what to do?

= Introduction =

This wiki page explains basic workflow of each commit.

= Prerequisites = 

Only project members are allowed to commit to repository directly, if you are not a project member, you can still contribute to fajr - we will commit the code for you or maybe grant you a commit access. Whether you are project member or not, you can follow the steps below.

You may start with checkouting code and installing some tools (phpdoc, phpunit). Let's now assume you have completed setup and actually you can start changing code.
Instructions of how to checkout code with write access are displayed in [http://code.google.com/p/fajr/source/checkout "Source/Checkout"] when you are logged in.

= Details =

  # First of all, if you are fixing some issue, you should create it in the bug tracker [http://code.google.com/p/fajr/issues/list].
  # Make changes to source files (please adhere to CodingStandard). If you already have a pending change set on review and want to make unrelated change, please checkout another working copy so the changes are not mixed together.
  # Don't forget to write tests and run them (see TestingCode)
  # run {{{ ./scripts/gcl/gcl change <change name> }}} (from fajr root directory, or from another location if you adjust the path) to create a change set. <change name> is anything you want to name your local change set (without spaces, this is used to identify the change set for subsequent gcl commands, you may use for example {{{ fix-13 }}} if you are going to fix issue 13 and don't want to write too much). You will be prompted for change description (please provide at least one sentence of description) and files belonging to this change set.
  # run {{{ ./scripts/gcl/gcl upload <change name> }}} to create a review issue
  # click on the issue url generated by previous step (displayed in gcl output near the end) and optionally add comments/questions to the code.
  # send a mail to reviewer(s) from review interface (rietveld), don't forget to specify email address(es) of reviewer(s)
  # wait for comments
  # adjust your code according to comments
  # upload again using gcl upload
  # reply to comments using rietveld and send a mail again
  # repeat previous four steps until reviewers agree with commiting the code (often using abbreviations like lgtm - looks good to me, etc.)
  # run the full test suite again to ensure that nothing has broken
  # try actually running the application, if you have not already :-)
  # commit your code by running {{{ ./scripts/gcl/gcl commit <change name> }}}